"use strict";const e=require("../common/vendor.js"),t=require("../admin.config.js"),n={data:()=>({...t.config.sideBar,field:"url as value, name as text, menu_id, parent_id, sort, icon, permission",currentMenu:"/"}),computed:{...e.mapState("app",["inited","navMenu","active"]),userInfo(){return this.$uniIdPagesStore.store.userInfo}},watch:{userInfo:{handler(e,t){e&&this.$nextTick((function(){this.$refs.menu.load()}))}}},methods:{...e.mapActions({setRoutes:"app/setRoutes"}),select(e,t){let n=e.value;n||(n=this.active),this.clickMenuItem(n),this.setRoutes(t)},clickMenuItem(n){"/"!==n[0]&&0!==n.indexOf("http")&&(n="/"+n),"/"===n&&(n=t.config.index.url),e.index.redirectTo({url:n,fail:()=>{e.index.showModal({title:"提示",content:"页面 "+n+" 跳转失败",showCancel:!1})}})},splitFullPath:e=>(e||(e="/"),e.split("?")[0])}};if(!Array){e.resolveComponent("uni-data-menu")()}Math;const i=e._export_sfc(n,[["render",function(t,n,i,s,o,r){return{a:e.sr("menu","557959b2-0"),b:e.o(r.select),c:e.p({value:o.currentMenu,staticMenu:t.staticMenu,collection:"opendb-admin-menus","page-size":500,field:o.field,where:"enable==true",orderby:"sort asc","active-text-color":"#409eff"})}}]]);wx.createComponent(i);
