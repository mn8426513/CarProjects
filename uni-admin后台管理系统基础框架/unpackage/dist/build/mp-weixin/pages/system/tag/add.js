"use strict";const e=require("../../../common/vendor.js"),t=require("../../../js_sdk/validator/uni-id-tag.js"),a=e.er.database();a.command;function i(e){let a={};for(let i in t.validator)e.includes(i)&&(a[i]=t.validator[i]);return a}const n={data(){let e={tagid:"",name:"",description:""};return{formData:e,formOptions:{},rules:{...i(Object.keys(e))}}},onReady(){this.$refs.form.setRules(this.rules)},methods:{submit(){e.index.showLoading({mask:!0}),this.$refs.form.validate().then((e=>this.submitForm(e))).catch((()=>{})).finally((()=>{e.index.hideLoading()}))},submitForm(t){return a.collection("uni-id-tag").add(t).then((t=>{e.index.showToast({title:"新增成功"}),this.getOpenerEventChannel().emit("refreshData"),this.getOpenerEventChannel().emit("refreshCheckboxData"),setTimeout((()=>e.index.navigateBack()),500)})).catch((t=>{e.index.showModal({content:t.message||"请求服务失败",showCancel:!1})}))}}};if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const o=e._export_sfc(n,[["render",function(t,a,i,n,o,r){return{a:e.o((e=>o.formData.tagid=e)),b:e.p({placeholder:"标签的tagid",modelValue:o.formData.tagid}),c:e.p({name:"tagid",label:"标签tagid",required:!0}),d:e.o((e=>o.formData.name=e)),e:e.p({placeholder:"标签名称",modelValue:o.formData.name}),f:e.p({name:"name",label:"标签名称",required:!0}),g:e.o([e=>o.formData.description=e.detail.value,e=>t.binddata("description",e.detail.value)]),h:o.formData.description,i:e.p({name:"description",label:"标签描述"}),j:e.o(((...e)=>r.submit&&r.submit(...e))),k:e.sr("form","3847d2bb-0"),l:e.p({value:o.formData,validateTrigger:"bind"})}}]]);wx.createPage(o);
