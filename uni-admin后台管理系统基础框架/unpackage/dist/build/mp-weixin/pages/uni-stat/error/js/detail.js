"use strict";const e=require("../../../../common/vendor.js"),t=require("../../../../js_sdk/uni-stat/util.js"),a=require("./fieldsMap.js"),i={data:()=>({popupFieldsMap:a.popupFieldsMap,options:{pageSize:20,pageCurrent:1,total:0},query:{error_hash:"",create_time:[]},loading:!1,tableData:[]}),onLoad(e){let{error_hash:a,create_time:i}=e;a&&(i=Number(i),this.query.error_hash=a,this.query.create_time=[i,i+864e5],this.getTableData(t.stringifyQuery(this.query)))},methods:{changePageCurrent(e){this.options.pageCurrent=e.current,this.getTableData(t.stringifyQuery(this.query))},changePageSize(e){this.options.pageSize=e,this.options.pageCurrent=1,this.getTableData(t.stringifyQuery(this.query))},getTableData(a){const{pageCurrent:i}=this.options;this.loading=!0;e.er.database().collection("uni-stat-error-logs").where(a).orderBy("create_time","desc").skip((i-1)*this.options.pageSize).limit(this.options.pageSize).get({getCount:!0}).then((e=>{const{count:a,data:i}=e.result;this.options.total=a;for(const o of i)o.create_time=t.parseDateTime(o.create_time,"dateTime");this.tableData=i})).finally((()=>{this.loading=!1}))}}};if(!Array){(e.resolveComponent("uni-stat-table")+e.resolveComponent("uni-pagination")+e.resolveComponent("fix-window"))()}Math||((()=>"../../../../components/uni-stat-table/uni-stat-table.js")+(()=>"../../../../uni_modules/uni-pagination/components/uni-pagination/uni-pagination.js")+(()=>"../../../../components/fix-window/fix-window.js"))();const o=e._export_sfc(i,[["render",function(t,a,i,o,n,s){return{a:e.p({data:n.tableData,filedsMap:n.popupFieldsMap,loading:n.loading}),b:e.o(s.changePageCurrent),c:e.o(s.changePageSize),d:e.p({"show-icon":!0,"show-page-size":!0,"page-size":n.options.pageSize,current:n.options.pageCurrent,total:n.options.total})}}]]);wx.createPage(o);
