"use strict";const t=require("./common/vendor.js"),e={name:"uniTr",components:{tableCheckbox:()=>"./uni_modules/uni-table/components/uni-tr/table-checkbox.js"},props:{disabled:{type:Boolean,default:!1},keyValue:{type:[String,Number],default:""}},options:{virtualHost:!0},data:()=>({value:!1,border:!1,selection:!1,widthThArr:[],ishead:!0,checked:!1,indeterminate:!1}),created(){this.root=this.getTable(),this.head=this.getTable("uniThead"),this.head&&(this.ishead=!1,this.head.init(this)),this.border=this.root.border,this.selection=this.root.type,this.root.trChildren.push(this);const t=this.root.data.find((t=>t[this.root.rowKey]===this.keyValue));t&&(this.rowData=t),this.root.isNodata()},mounted(){if(this.widthThArr.length>0){const t="selection"===this.selection?50:0;this.root.minWidth=Number(this.widthThArr.reduce(((t,e)=>Number(t)+Number(e))))+t}},unmounted(){if(this.root&&this.root.trChildren){const t=this.root.trChildren.findIndex((t=>t===this));this.root.trChildren.splice(t,1),this.root.isNodata()}},methods:{minWidthUpdate(t){if(this.widthThArr.push(t),this.widthThArr.length>0){const t="selection"===this.selection?50:0;this.root.minWidth=Number(this.widthThArr.reduce(((t,e)=>Number(t)+Number(e))))+t}},checkboxSelected(t){let e=this.root.data.find((t=>t[this.root.rowKey]===this.keyValue));this.checked=t.checked,this.root.check(e||this,t.checked,e?this.keyValue:null)},change(t){this.root.trChildren.forEach((e=>{e===this&&this.root.check(this,t.detail.value.length>0)}))},getTable(t="uniTable"){let e=this.$parent,i=e.$options.name;for(;i!==t;){if(e=e.$parent,!e)return!1;i=e.$options.name}return e}}};if(!Array){t.resolveComponent("table-checkbox")()}const i=t._export_sfc(e,[["render",function(e,i,o,h,r,s){return t.e({a:"selection"===r.selection},"selection"===r.selection?{b:t.o(s.checkboxSelected),c:t.p({checked:r.checked,indeterminate:r.indeterminate,disabled:o.disabled}),d:r.border?1:""}:{})}]]);exports.Component=i;
