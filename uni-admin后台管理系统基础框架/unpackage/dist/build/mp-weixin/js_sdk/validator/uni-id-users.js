"use strict";exports.enumConverter={status_valuetotext:{0:"正常",1:"禁用",2:"审核中",3:"审核拒绝"}},exports.filterToWhere=function(e,t){let a={};for(let r in e){let{type:l,value:n}=e[r];switch(l){case"search":"string"==typeof n&&n.length&&(a[r]=new RegExp(n));break;case"select":if(n.length){let e=[];for(let a of n)e.push(t.eq(a));a[r]=t.or(e)}break;case"range":if(n.length){let e=n[0],l=n[1];a[r]=t.and([t.gte(e),t.lte(l)])}break;case"date":if(n.length){let[e,l]=n,s=new Date(e),u=new Date(l);a[r]=t.and([t.gte(s),t.lte(u)])}break;case"timestamp":if(n.length){let[e,l]=n;a[r]=t.and([t.gte(e),t.lte(l)])}}}return a},exports.validator={username:{rules:[{required:!0,errorMessage:"请输入用户名"},{minLength:3,maxLength:32,errorMessage:"用户名长度在 {minLength} 到 {maxLength} 个字符"},{validateFunction:function(e,t,a,r){return(/^1\d{10}$/.test(t)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(t))&&r("用户名不能是：手机号或邮箱"),/^\d+$/.test(t)&&r("用户名不能为纯数字"),/[\u4E00-\u9FA5\uF900-\uFA2D]{1,}/.test(t)&&r("用户名不能包含中文"),!0}}],label:"用户名"},nickname:{rules:[{minLength:3,maxLength:32,errorMessage:"昵称长度在 {minLength} 到 {maxLength} 个字符"},{validateFunction:function(e,t,a,r){return(/^1\d{10}$/.test(t)||/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(t))&&r("昵称不能是：手机号或邮箱"),/^\d+$/.test(t)&&r("昵称不能为纯数字"),!0}}],label:"昵称"},password:{rules:[{required:!0},{format:"password"},{minLength:6}],label:"密码"},mobile:{rules:[{format:"string"},{pattern:"^\\+?[0-9-]{3,20}$"}],label:"手机号码"},status:{rules:[{format:"int"},{range:[{text:"正常",value:0},{text:"禁用",value:1},{text:"审核中",value:2},{text:"审核拒绝",value:3}]}],defaultValue:0,label:"用户状态"},email:{rules:[{format:"string"},{format:"email"}],label:"邮箱"},role:{rules:[{format:"array"}],label:"角色"},last_login_date:{rules:[{format:"timestamp"}]}};
