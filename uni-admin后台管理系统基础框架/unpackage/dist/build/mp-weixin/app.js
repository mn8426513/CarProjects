"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("./common/vendor.js"),o=require("./admin.config.js"),t=require("./store/constants.js"),i=require("./js_sdk/ext-storage/uploadFileForExtStorage.js"),n=require("./store/index.js"),r=require("./js_sdk/uni-admin/plugin.js"),s=require("./i18n/index.js");Math;const a={created(){this.clear=void 0},methods:{...e.mapMutations("app",["SET_THEME"]),...e.mapActions({init:"app/init"}),clearPlatform(){const o=e.index.getStorageInfoSync().keys.filter((e=>e.indexOf("platform")>-1));o.length&&o.forEach((o=>e.index.removeStorageSync(o)))}},onPageNotFound(t){e.index.redirectTo({url:o.config.error.url})},onLaunch:function(){console.log("App Launch"),this.$uniIdPagesStore.store.hasLogin&&this.init(),e.index.$on("uni-id-pages-login-success",(()=>{this.init()})),this.SET_THEME(e.index.getStorageSync(t.uniAdminCacheKey.theme)||"default"),i.uploadFileForExtStorage.init({provider:"unicloud",domain:"cdn.example.com",fileID2fileURL:!0,uploadFileOptions:async o=>{const t=e.er.importObject("ext-storage-co");return await t.getUploadFileOptions(o)}})},onShow:function(){console.log("App Show"),this.clear=setInterval((()=>this.clearPlatform()),9e5)},onHide:function(){console.log("App Hide"),this.clear&&clearInterval(this.clear)}},c=e.index.getLocale();function l(){const o=e.createSSRApp(a),t=e.createI18n({locale:c,messages:s.messages});return o.use(t),o.use(r.plugin),o.use(n.store),{app:o}}l().app.mount("#app"),exports.createApp=l;
